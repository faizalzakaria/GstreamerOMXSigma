<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>GstBuffer</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
<link rel="start" href="index.html" title="GStreamer 0.10 Core Reference Manual">
<link rel="up" href="libgstreamer.html" title="GStreamer Core Library">
<link rel="prev" href="GstBin.html" title="GstBin">
<link rel="next" href="GstBus.html" title="GstBus">
<meta name="generator" content="GTK-Doc V1.4 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="gstreamer.html" title="GStreamer Overview">
<link rel="chapter" href="libgstreamer.html" title="GStreamer Core Library">
<link rel="chapter" href="gstreamer-support.html" title="GStreamer Core Support">
<link rel="chapter" href="gstreamer-hierarchy.html" title="Object Hierarchy">
<link rel="index" href="api-index.html" title="Index">
<link rel="index" href="ix02.html" title="Index of deprecated symbols">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle">
<td><a accesskey="p" href="GstBin.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="libgstreamer.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">GStreamer 0.10 Core Reference Manual</th>
<td><a accesskey="n" href="GstBus.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry" lang="en">
<a name="gstreamer-GstBuffer"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle">GstBuffer</span></h2>
<p>GstBuffer &#8212; Data-passing buffer type, supporting sub-buffers.</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">

#include &lt;gst/gst.h&gt;


            <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>;
enum        <a href="gstreamer-GstBuffer.html#GstBufferFlag">GstBufferFlag</a>;
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAGS:CAPS">GST_BUFFER_FLAGS</a>                (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAG-IS-SET:CAPS">GST_BUFFER_FLAG_IS_SET</a>          (buf,flag)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAG-SET:CAPS">GST_BUFFER_FLAG_SET</a>             (buf,flag)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAG-UNSET:CAPS">GST_BUFFER_FLAG_UNSET</a>           (buf,flag)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-DATA:CAPS">GST_BUFFER_DATA</a>                 (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-MALLOCDATA:CAPS">GST_BUFFER_MALLOCDATA</a>           (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-SIZE:CAPS">GST_BUFFER_SIZE</a>                 (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-TIMESTAMP:CAPS">GST_BUFFER_TIMESTAMP</a>            (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-DURATION:CAPS">GST_BUFFER_DURATION</a>             (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-CAPS:CAPS">GST_BUFFER_CAPS</a>                 (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-OFFSET:CAPS">GST_BUFFER_OFFSET</a>               (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-OFFSET-END:CAPS">GST_BUFFER_OFFSET_END</a>           (buf)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-OFFSET-NONE:CAPS">GST_BUFFER_OFFSET_NONE</a>
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-DURATION-IS-VALID:CAPS">GST_BUFFER_DURATION_IS_VALID</a>    (buffer)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-TIMESTAMP-IS-VALID:CAPS">GST_BUFFER_TIMESTAMP_IS_VALID</a>   (buffer)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-OFFSET-IS-VALID:CAPS">GST_BUFFER_OFFSET_IS_VALID</a>      (buffer)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-OFFSET-END-IS-VALID:CAPS">GST_BUFFER_OFFSET_END_IS_VALID</a>  (buffer)
#define     <a href="gstreamer-GstBuffer.html#GST-BUFFER-TRACE-NAME:CAPS">GST_BUFFER_TRACE_NAME</a>
<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  <a href="gstreamer-GstBuffer.html#gst-buffer-new">gst_buffer_new</a>                  (void);
<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  <a href="gstreamer-GstBuffer.html#gst-buffer-new-and-alloc">gst_buffer_new_and_alloc</a>        (<a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a> size);
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-ref">gst_buffer_ref</a>                  (buf)
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-unref">gst_buffer_unref</a>                (buf)
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-set-data">gst_buffer_set_data</a>             (buf, data, size)
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-copy">gst_buffer_copy</a>                 (buf)
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-is-writable">gst_buffer_is_writable</a>          (buf)
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-make-writable">gst_buffer_make_writable</a>        (buf)
#define     <a href="gstreamer-GstBuffer.html#gst-buffer-replace">gst_buffer_replace</a>              (obuf,nbuf)
<a href="gstreamer-GstCaps.html#GstCaps">GstCaps</a>*    <a href="gstreamer-GstBuffer.html#gst-buffer-get-caps">gst_buffer_get_caps</a>             (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buffer);
void        <a href="gstreamer-GstBuffer.html#gst-buffer-set-caps">gst_buffer_set_caps</a>             (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buffer,
                                             <a href="gstreamer-GstCaps.html#GstCaps">GstCaps</a> *caps);
<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  <a href="gstreamer-GstBuffer.html#gst-buffer-create-sub">gst_buffer_create_sub</a>           (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *parent,
                                             <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a> offset,
                                             <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a> size);
<a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    <a href="gstreamer-GstBuffer.html#gst-buffer-is-span-fast">gst_buffer_is_span_fast</a>         (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2);
<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  <a href="gstreamer-GstBuffer.html#gst-buffer-span">gst_buffer_span</a>                 (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint32"
>guint32</a> offset,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2,
                                             <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint32"
>guint32</a> len);
void        <a href="gstreamer-GstBuffer.html#gst-buffer-stamp">gst_buffer_stamp</a>                (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *dest,
                                             const <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *src);
<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  <a href="gstreamer-GstBuffer.html#gst-buffer-join">gst_buffer_join</a>                 (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2);
<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  <a href="gstreamer-GstBuffer.html#gst-buffer-merge">gst_buffer_merge</a>                (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2);


</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2590574"></a><h2>Description</h2>
<p>
Buffers are the basic unit of data transfer in GStreamer.  The <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> type
provides all the state necessary to define a region of memory as part of a
stream.  Sub-buffers are also supported, allowing a smaller region of a
buffer to become its own buffer, with mechanisms in place to ensure that
neither memory space goes away prematurely.
</p>
<p>
Buffers are usually created with <a href="gstreamer-GstBuffer.html#gst-buffer-new"><code class="function">gst_buffer_new()</code></a>. After a buffer has been
created one will typically allocate memory for it and set the size of the
buffer data.  The following example creates a buffer that can hold a given
video frame with a given width, height and bits per plane.
</p>
<div class="example">
<a name="id2590614"></a><p class="title"><b>Example&#160;3.&#160;Creating a buffer for a video frame</b></p>
<pre class="programlisting">
  GstBuffer *buffer;
  gint size, width, height, bpp;
  ...
  size = width * height * bpp;
  buffer = <a href="gstreamer-GstBuffer.html#gst-buffer-new"><code class="function">gst_buffer_new()</code></a>;
  GST_BUFFER_SIZE (buffer) = size;
  GST_BUFFER_MALLOCDATA (buffer) = g_malloc (size);
  GST_BUFFER_DATA (buffer) = GST_BUFFER_MALLOCDATA (buffer);
  ...
  </pre>
</div>
<p>
</p>
<p>
Alternatively, use <a href="gstreamer-GstBuffer.html#gst-buffer-new-and-alloc"><code class="function">gst_buffer_new_and_alloc()</code></a>
to create a buffer with preallocated data of a given size.
</p>
<p>
If an element knows what pad you will push the buffer out on, it should use
<a href="GstPad.html#gst-pad-alloc-buffer"><code class="function">gst_pad_alloc_buffer()</code></a> instead to create a buffer.  This allows downstream
elements to provide special buffers to write in, like hardware buffers.
</p>
<p>
A buffer has a pointer to a <a href="gstreamer-GstCaps.html#GstCaps"><span class="type">GstCaps</span></a> describing the media type of the data
in the buffer. Attach caps to the buffer with <a href="gstreamer-GstBuffer.html#gst-buffer-set-caps"><code class="function">gst_buffer_set_caps()</code></a>; this
is typically done before pushing out a buffer using <a href="GstPad.html#gst-pad-push"><code class="function">gst_pad_push()</code></a> so that
the downstream element knows the type of the buffer.
</p>
<p>
A buffer will usually have a timestamp, and a duration, but neither of these
are guaranteed (they may be set to <a href="GstClock.html#GST-CLOCK-TIME-NONE:CAPS"><span class="type">GST_CLOCK_TIME_NONE</span></a>). Whenever a 
meaningful value can be given for these, they should be set. The timestamp 
and duration are measured in nanoseconds (they are <a href="GstClock.html#GstClockTime"><span class="type">GstClockTime</span></a> values). 
</p>
<p>
A buffer can also have one or both of a start and an end offset. These are
media-type specific. For video buffers, the start offset will generally be
the frame number. For audio buffers, it will be the number of samples 
produced so far. For compressed data, it could be the byte offset in a 
source or destination file. Likewise, the end offset will be the offset of
the end of the buffer. These can only be meaningfully interpreted if you
know the media type of the buffer (the <a href="gstreamer-GstCaps.html#GstCaps"><span class="type">GstCaps</span></a> set on it). Either or both
can be set to <a href="gstreamer-GstBuffer.html#GST-BUFFER-OFFSET-NONE:CAPS"><span class="type">GST_BUFFER_OFFSET_NONE</span></a>.
</p>
<p>
<a href="gstreamer-GstBuffer.html#gst-buffer-ref"><code class="function">gst_buffer_ref()</code></a> is used to increase the refcount of a buffer. This must be
done when you want to keep a handle to the buffer after pushing it to the
next element.
</p>
<p>
To efficiently create a smaller buffer out of an existing one, you can
use <a href="gstreamer-GstBuffer.html#gst-buffer-create-sub"><code class="function">gst_buffer_create_sub()</code></a>.
</p>
<p>
If the plug-in wants to modify the buffer in-place, it should first obtain
a buffer that is safe to modify by using <a href="gstreamer-GstBuffer.html#gst-buffer-make-writable"><code class="function">gst_buffer_make_writable()</code></a>.  This
function is optimized so that a copy will only be made when it is necessary.
</p>
<p>
Several flags of the buffer can be set and unset with the
<a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAG-SET:CAPS"><code class="function">GST_BUFFER_FLAG_SET()</code></a> and <a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAG-UNSET:CAPS"><code class="function">GST_BUFFER_FLAG_UNSET()</code></a> macros. Use
<a href="gstreamer-GstBuffer.html#GST-BUFFER-FLAG-IS-SET:CAPS"><code class="function">GST_BUFFER_FLAG_IS_SET()</code></a> to test if a certain <a href="gstreamer-GstBuffer.html#GstBufferFlag"><span class="type">GstBufferFlag</span></a> is set.
</p>
<p>
Buffers can be efficiently merged into a larger buffer with
<a href="gstreamer-GstBuffer.html#gst-buffer-merge"><code class="function">gst_buffer_merge()</code></a> and <a href="gstreamer-GstBuffer.html#gst-buffer-span"><code class="function">gst_buffer_span()</code></a> if the <a href="gstreamer-GstBuffer.html#gst-buffer-is-span-fast"><code class="function">gst_buffer_is_span_fast()</code></a>
function returns TRUE.
</p>
<p>
An element should either unref the buffer or push it out on a src pad
using <a href="GstPad.html#gst-pad-push"><code class="function">gst_pad_push()</code></a> (see <a href="GstPad.html" title="GstPad"><span class="type">GstPad</span></a>).
</p>
<p>
Buffers are usually freed by unreffing them with <a href="gstreamer-GstBuffer.html#gst-buffer-unref"><code class="function">gst_buffer_unref()</code></a>. When
the refcount drops to 0, any data pointed to by <a href="gstreamer-GstBuffer.html#GST-BUFFER-MALLOCDATA:CAPS"><code class="function">GST_BUFFER_MALLOCDATA()</code></a> will
also be freed.
</p>
<p>
Last reviewed on November 23th, 2005 (0.9.5)</p>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2590962"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2590968"></a><h3>
<a name="GstBuffer"></a>GstBuffer</h3>
<a class="indexterm" name="id2590978"></a><pre class="programlisting">typedef struct {
  GstMiniObject		 mini_object;

  /* pointer to data and its size */
  guint8		*data;
  guint			 size;

  /* timestamp */
  GstClockTime		 timestamp;
  GstClockTime		 duration;

  /* the media type of this buffer */
  GstCaps		*caps;

  /* media specific offset */
  guint64		 offset;
  guint64		 offset_end;

  guint8                *malloc_data;
} GstBuffer;
</pre>
<p>
The structure of a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>. Use the associated macros to access the public
variables.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><a href="gstreamer-GstMiniObject.html#GstMiniObject">GstMiniObject</a>&#160;<em class="structfield"><code>mini_object</code></em>;</span></td>
<td> the parent structure
</td>
</tr>
<tr>
<td>
<span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"
>guint8</a>&#160;*<em class="structfield"><code>data</code></em>;</span></td>
<td> pointer to the buffer data
</td>
</tr>
<tr>
<td>
<span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a>&#160;<em class="structfield"><code>size</code></em>;</span></td>
<td> size of buffer data
</td>
</tr>
<tr>
<td>
<span class="term"><a href="GstClock.html#GstClockTime">GstClockTime</a>&#160;<em class="structfield"><code>timestamp</code></em>;</span></td>
<td> timestamp of the buffer, can be <a href="GstClock.html#GST-CLOCK-TIME-NONE:CAPS"><span class="type">GST_CLOCK_TIME_NONE</span></a> when the
    timestamp is not known or relevant.
</td>
</tr>
<tr>
<td>
<span class="term"><a href="GstClock.html#GstClockTime">GstClockTime</a>&#160;<em class="structfield"><code>duration</code></em>;</span></td>
<td> duration in time of the buffer data, can be <a href="GstClock.html#GST-CLOCK-TIME-NONE:CAPS"><span class="type">GST_CLOCK_TIME_NONE</span></a>
    when the duration is not known or relevant.
</td>
</tr>
<tr>
<td>
<span class="term"><a href="gstreamer-GstCaps.html#GstCaps">GstCaps</a>&#160;*<em class="structfield"><code>caps</code></em>;</span></td>
<td> the <a href="gstreamer-GstCaps.html#GstCaps"><span class="type">GstCaps</span></a> describing the data format in this buffer
</td>
</tr>
<tr>
<td>
<span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint64"
>guint64</a>&#160;<em class="structfield"><code>offset</code></em>;</span></td>
<td> a media specific offset for the buffer data. 
    For video frames, this is the frame number of this buffer.
    For audio samples, this is the offset of the first sample in this buffer.
    For file data or compressed data this is the byte offset of the first
      byte in this buffer.
</td>
</tr>
<tr>
<td>
<span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint64"
>guint64</a>&#160;<em class="structfield"><code>offset_end</code></em>;</span></td>
<td> the last offset contained in this buffer. It has the same 
    format as <em class="parameter"><code>offset</code></em>.
</td>
</tr>
<tr>
<td>
<span class="term"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"
>guint8</a>&#160;*<em class="structfield"><code>malloc_data</code></em>;</span></td>
<td> a pointer to the allocated memory associated with this buffer.
    When the buffer is freed, this data will freed with <code class="function">free()</code>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591256"></a><h3>
<a name="GstBufferFlag"></a>enum GstBufferFlag</h3>
<a class="indexterm" name="id2591266"></a><pre class="programlisting">typedef enum {
  GST_BUFFER_FLAG_READONLY   = GST_MINI_OBJECT_FLAG_READONLY,
  GST_BUFFER_FLAG_PREROLL    = (GST_MINI_OBJECT_FLAG_LAST &lt;&lt; 0),
  GST_BUFFER_FLAG_DISCONT    = (GST_MINI_OBJECT_FLAG_LAST &lt;&lt; 1),
  GST_BUFFER_FLAG_IN_CAPS    = (GST_MINI_OBJECT_FLAG_LAST &lt;&lt; 2),
  GST_BUFFER_FLAG_GAP        = (GST_MINI_OBJECT_FLAG_LAST &lt;&lt; 3),
  GST_BUFFER_FLAG_DELTA_UNIT = (GST_MINI_OBJECT_FLAG_LAST &lt;&lt; 4),
  /* padding */
  GST_BUFFER_FLAG_LAST       = (GST_MINI_OBJECT_FLAG_LAST &lt;&lt; 8)
} GstBufferFlag;
</pre>
<p>
A set of buffer flags used to describe properties of a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><code class="literal">GST_BUFFER_FLAG_READONLY</code></span></td>
<td> the buffer is read-only.
</td>
</tr>
<tr>
<td>
<span class="term"><code class="literal">GST_BUFFER_FLAG_PREROLL</code></span></td>
<td> the buffer is part of a preroll and should not be
displayed.
</td>
</tr>
<tr>
<td>
<span class="term"><code class="literal">GST_BUFFER_FLAG_DISCONT</code></span></td>
<td> the buffer marks a discontinuity in the stream.
</td>
</tr>
<tr>
<td>
<span class="term"><code class="literal">GST_BUFFER_FLAG_IN_CAPS</code></span></td>
<td> the buffer has been added as a field in a <a href="gstreamer-GstCaps.html#GstCaps"><span class="type">GstCaps</span></a>.
</td>
</tr>
<tr>
<td>
<span class="term"><code class="literal">GST_BUFFER_FLAG_GAP</code></span></td>
<td> the buffer has been created to fill a gap in the stream.
</td>
</tr>
<tr>
<td>
<span class="term"><code class="literal">GST_BUFFER_FLAG_DELTA_UNIT</code></span></td>
<td> this unit cannot be decoded independently.
</td>
</tr>
<tr>
<td>
<span class="term"><code class="literal">GST_BUFFER_FLAG_LAST</code></span></td>
<td> additional flags can be added starting from this flag.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591424"></a><h3>
<a name="GST-BUFFER-FLAGS:CAPS"></a>GST_BUFFER_FLAGS()</h3>
<a class="indexterm" name="id2591435"></a><pre class="programlisting">#define GST_BUFFER_FLAGS(buf)                   GST_MINI_OBJECT_FLAGS(buf)
</pre>
<p>
A flags word containing <a href="gstreamer-GstBuffer.html#GstBufferFlag"><span class="type">GstBufferFlag</span></a> flags set on this buffer.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591488"></a><h3>
<a name="GST-BUFFER-FLAG-IS-SET:CAPS"></a>GST_BUFFER_FLAG_IS_SET()</h3>
<a class="indexterm" name="id2591499"></a><pre class="programlisting">#define GST_BUFFER_FLAG_IS_SET(buf,flag)        GST_MINI_OBJECT_FLAG_IS_SET (buf, flag)
</pre>
<p>
Gives the status of a specific flag on a buffer.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>flag</code></em>&#160;:</span></td>
<td> the <a href="gstreamer-GstBuffer.html#GstBufferFlag"><span class="type">GstBufferFlag</span></a> to check.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591567"></a><h3>
<a name="GST-BUFFER-FLAG-SET:CAPS"></a>GST_BUFFER_FLAG_SET()</h3>
<a class="indexterm" name="id2591578"></a><pre class="programlisting">#define GST_BUFFER_FLAG_SET(buf,flag)           GST_MINI_OBJECT_FLAG_SET (buf, flag)
</pre>
<p>
Sets a buffer flag on a buffer.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>flag</code></em>&#160;:</span></td>
<td> the <a href="gstreamer-GstBuffer.html#GstBufferFlag"><span class="type">GstBufferFlag</span></a> to set.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591646"></a><h3>
<a name="GST-BUFFER-FLAG-UNSET:CAPS"></a>GST_BUFFER_FLAG_UNSET()</h3>
<a class="indexterm" name="id2591657"></a><pre class="programlisting">#define GST_BUFFER_FLAG_UNSET(buf,flag)         GST_MINI_OBJECT_FLAG_UNSET (buf, flag)
</pre>
<p>
Clears a buffer flag.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>flag</code></em>&#160;:</span></td>
<td> the <a href="gstreamer-GstBuffer.html#GstBufferFlag"><span class="type">GstBufferFlag</span></a> to clear.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591724"></a><h3>
<a name="GST-BUFFER-DATA:CAPS"></a>GST_BUFFER_DATA()</h3>
<a class="indexterm" name="id2591735"></a><pre class="programlisting">#define GST_BUFFER_DATA(buf)			(GST_BUFFER_CAST(buf)-&gt;data)
</pre>
<p>
A pointer to the data element of this buffer.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591781"></a><h3>
<a name="GST-BUFFER-MALLOCDATA:CAPS"></a>GST_BUFFER_MALLOCDATA()</h3>
<a class="indexterm" name="id2591791"></a><pre class="programlisting">#define GST_BUFFER_MALLOCDATA(buf)		(GST_BUFFER_CAST(buf)-&gt;malloc_data)
</pre>
<p>
A pointer to any data allocated for this buffer using <code class="function">malloc()</code>. If this is 
non-NULL, this memory will be freed at the end of the buffer's lifecycle 
(i.e. when its refcount becomes zero).</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591851"></a><h3>
<a name="GST-BUFFER-SIZE:CAPS"></a>GST_BUFFER_SIZE()</h3>
<a class="indexterm" name="id2591862"></a><pre class="programlisting">#define GST_BUFFER_SIZE(buf)			(GST_BUFFER_CAST(buf)-&gt;size)
</pre>
<p>
The size in bytes of the data in this buffer.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591908"></a><h3>
<a name="GST-BUFFER-TIMESTAMP:CAPS"></a>GST_BUFFER_TIMESTAMP()</h3>
<a class="indexterm" name="id2591918"></a><pre class="programlisting">#define GST_BUFFER_TIMESTAMP(buf)		(GST_BUFFER_CAST(buf)-&gt;timestamp)
</pre>
<p>
The timestamp in nanoseconds (as a <a href="GstClock.html#GstClockTime"><span class="type">GstClockTime</span></a>) of the data in the buffer.
Value will be <code class="literal">GST_CLOCK_TIME_NONE</code> if the timestamp is unknown.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.:
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2591980"></a><h3>
<a name="GST-BUFFER-DURATION:CAPS"></a>GST_BUFFER_DURATION()</h3>
<a class="indexterm" name="id2591990"></a><pre class="programlisting">#define GST_BUFFER_DURATION(buf)		(GST_BUFFER_CAST(buf)-&gt;duration)
</pre>
<p>
The duration in nanoseconds (as a <a href="GstClock.html#GstClockTime"><span class="type">GstClockTime</span></a>) of the data in the buffer.
Value will be <code class="literal">GST_CLOCK_TIME_NONE</code> if the duration is unknown.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592052"></a><h3>
<a name="GST-BUFFER-CAPS:CAPS"></a>GST_BUFFER_CAPS()</h3>
<a class="indexterm" name="id2592063"></a><pre class="programlisting">#define GST_BUFFER_CAPS(buf)			(GST_BUFFER_CAST(buf)-&gt;caps)
</pre>
<p>
The caps for this buffer.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592108"></a><h3>
<a name="GST-BUFFER-OFFSET:CAPS"></a>GST_BUFFER_OFFSET()</h3>
<a class="indexterm" name="id2592119"></a><pre class="programlisting">#define GST_BUFFER_OFFSET(buf)			(GST_BUFFER_CAST(buf)-&gt;offset)
</pre>
<p>
The offset in the source file of the beginning of this buffer.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592165"></a><h3>
<a name="GST-BUFFER-OFFSET-END:CAPS"></a>GST_BUFFER_OFFSET_END()</h3>
<a class="indexterm" name="id2592175"></a><pre class="programlisting">#define GST_BUFFER_OFFSET_END(buf)		(GST_BUFFER_CAST(buf)-&gt;offset_end)
</pre>
<p>
The offset in the source file of the end of this buffer.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592222"></a><h3>
<a name="GST-BUFFER-OFFSET-NONE:CAPS"></a>GST_BUFFER_OFFSET_NONE</h3>
<a class="indexterm" name="id2592233"></a><pre class="programlisting">#define GST_BUFFER_OFFSET_NONE	((guint64)-1)
</pre>
<p>
Constant for no-offset return results.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592252"></a><h3>
<a name="GST-BUFFER-DURATION-IS-VALID:CAPS"></a>GST_BUFFER_DURATION_IS_VALID()</h3>
<a class="indexterm" name="id2592263"></a><pre class="programlisting">#define GST_BUFFER_DURATION_IS_VALID(buffer)	(GST_CLOCK_TIME_IS_VALID (GST_BUFFER_DURATION (buffer)))
</pre>
<p>
Tests if the duration is known.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buffer</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592310"></a><h3>
<a name="GST-BUFFER-TIMESTAMP-IS-VALID:CAPS"></a>GST_BUFFER_TIMESTAMP_IS_VALID()</h3>
<a class="indexterm" name="id2592321"></a><pre class="programlisting">#define GST_BUFFER_TIMESTAMP_IS_VALID(buffer)	(GST_CLOCK_TIME_IS_VALID (GST_BUFFER_TIMESTAMP (buffer)))
</pre>
<p>
Tests if the timestamp is known.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buffer</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592367"></a><h3>
<a name="GST-BUFFER-OFFSET-IS-VALID:CAPS"></a>GST_BUFFER_OFFSET_IS_VALID()</h3>
<a class="indexterm" name="id2592378"></a><pre class="programlisting">#define GST_BUFFER_OFFSET_IS_VALID(buffer)	(GST_BUFFER_OFFSET (buffer) != GST_BUFFER_OFFSET_NONE)
</pre>
<p>
Tests if the start offset is known.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buffer</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592424"></a><h3>
<a name="GST-BUFFER-OFFSET-END-IS-VALID:CAPS"></a>GST_BUFFER_OFFSET_END_IS_VALID()</h3>
<a class="indexterm" name="id2592435"></a><pre class="programlisting">#define GST_BUFFER_OFFSET_END_IS_VALID(buffer)	(GST_BUFFER_OFFSET_END (buffer) != GST_BUFFER_OFFSET_NONE)
</pre>
<p>
Tests if the end offset is known.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buffer</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592481"></a><h3>
<a name="GST-BUFFER-TRACE-NAME:CAPS"></a>GST_BUFFER_TRACE_NAME</h3>
<a class="indexterm" name="id2592492"></a><pre class="programlisting">#define GST_BUFFER_TRACE_NAME		"GstBuffer"
</pre>
<p>
The name used for tracing memory allocations.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592512"></a><h3>
<a name="gst-buffer-new"></a>gst_buffer_new ()</h3>
<a class="indexterm" name="id2592522"></a><pre class="programlisting"><a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  gst_buffer_new                  (void);</pre>
<p>
Creates a newly allocated buffer without any data.
</p>
<p>
MT safe.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592573"></a><h3>
<a name="gst-buffer-new-and-alloc"></a>gst_buffer_new_and_alloc ()</h3>
<a class="indexterm" name="id2592584"></a><pre class="programlisting"><a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  gst_buffer_new_and_alloc        (<a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a> size);</pre>
<p>
Creates a newly allocated buffer with data of the given size.
The buffer memory is not cleared.
</p>
<p>
MT safe.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>size</code></em>&#160;:</span></td>
<td> the size of the new buffer's data.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592657"></a><h3>
<a name="gst-buffer-ref"></a>gst_buffer_ref()</h3>
<a class="indexterm" name="id2592667"></a><pre class="programlisting">#define		gst_buffer_ref(buf)		GST_BUFFER_CAST (gst_mini_object_ref (GST_MINI_OBJECT (buf)))
</pre>
<p>
Increases the refcount of the given buffer by one.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592713"></a><h3>
<a name="gst-buffer-unref"></a>gst_buffer_unref()</h3>
<a class="indexterm" name="id2592723"></a><pre class="programlisting">#define		gst_buffer_unref(buf)		gst_mini_object_unref (GST_MINI_OBJECT (buf))
</pre>
<p>
Decreases the refcount of the buffer. If the refcount reaches 0, the buffer
will be freed. If <a href="gstreamer-GstBuffer.html#GST-BUFFER-MALLOCDATA:CAPS"><code class="function">GST_BUFFER_MALLOCDATA()</code></a> is non-NULL, this pointer will
also be freed at this time.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592782"></a><h3>
<a name="gst-buffer-set-data"></a>gst_buffer_set_data()</h3>
<a class="indexterm" name="id2592792"></a><pre class="programlisting">#define     gst_buffer_set_data(buf, data, size)</pre>
<p>
A convenience function to set the data and size on a buffer.
This will replace any existing data pointer set on this buffer, but will
not change <a href="gstreamer-GstBuffer.html#GST-BUFFER-MALLOCDATA:CAPS"><code class="function">GST_BUFFER_MALLOCDATA()</code></a>, if any. Callers should ensure that
<a href="gstreamer-GstBuffer.html#GST-BUFFER-MALLOCDATA:CAPS"><code class="function">GST_BUFFER_MALLOCDATA()</code></a> is non-NULL, or should free that and set it to NULL.
</p>
<p>
No checks are done on the data or size arguments passed.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>data</code></em>&#160;:</span></td>
<td> The data (a <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"
><span class="type">guint8</span></a> *) to set on the buffer.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>size</code></em>&#160;:</span></td>
<td> The size (in bytes, as a <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
><span class="type">guint</span></a>) of the data being set.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592911"></a><h3>
<a name="gst-buffer-copy"></a>gst_buffer_copy()</h3>
<a class="indexterm" name="id2592921"></a><pre class="programlisting">#define		gst_buffer_copy(buf)		GST_BUFFER_CAST (gst_mini_object_copy (GST_MINI_OBJECT (buf)))
</pre>
<p>
Create a copy of the given buffer. This will also make a newly allocated
copy of the data the source buffer contains.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2592968"></a><h3>
<a name="gst-buffer-is-writable"></a>gst_buffer_is_writable()</h3>
<a class="indexterm" name="id2592979"></a><pre class="programlisting">#define		gst_buffer_is_writable(buf)	gst_mini_object_is_writable (GST_MINI_OBJECT (buf))
</pre>
<p>
Tests if you can safely write data into a buffer's data array.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593025"></a><h3>
<a name="gst-buffer-make-writable"></a>gst_buffer_make_writable()</h3>
<a class="indexterm" name="id2593036"></a><pre class="programlisting">#define		gst_buffer_make_writable(buf)   GST_BUFFER_CAST (gst_mini_object_make_writable (GST_MINI_OBJECT (buf)))
</pre>
<p>
Makes a writable buffer from the given buffer. If the source buffer is
already writable, this will simply return the same buffer. A copy will 
otherwise be made using <a href="gstreamer-GstBuffer.html#gst-buffer-copy"><code class="function">gst_buffer_copy()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>buf</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593094"></a><h3>
<a name="gst-buffer-replace"></a>gst_buffer_replace()</h3>
<a class="indexterm" name="id2593105"></a><pre class="programlisting">#define		gst_buffer_replace(obuf,nbuf)	gst_mini_object_replace ((GstMiniObject **)(obuf), GST_MINI_OBJECT (nbuf))
</pre>
<p>
Modifies a pointer to a <span class="type">Gstbuffer</span> to point to a different <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>. The
modification is done atomically (so this is useful for ensuring thread safety
in some cases), and the reference counts are updated appropriately (the old 
buffer is unreffed, the new is reffed).
</p>
<p>
Either <em class="parameter"><code>nbuf</code></em> or the <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> pointed to by <em class="parameter"><code>obuf</code></em> may be NULL.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>obuf</code></em>&#160;:</span></td>
<td> pointer to a pointer to a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to be replaced.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>nbuf</code></em>&#160;:</span></td>
<td> pointer to a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> that will replace the buffer pointed to by 
       <em class="parameter"><code>obuf</code></em>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593224"></a><h3>
<a name="gst-buffer-get-caps"></a>gst_buffer_get_caps ()</h3>
<a class="indexterm" name="id2593235"></a><pre class="programlisting"><a href="gstreamer-GstCaps.html#GstCaps">GstCaps</a>*    gst_buffer_get_caps             (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buffer);</pre>
<p>
Gets the media type of the buffer. This can be NULL if there
is no media type attached to this buffer.
</p>
<p>
Returns: a reference to the <a href="gstreamer-GstCaps.html#GstCaps"><span class="type">GstCaps</span></a>. unref after usage.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>buffer</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td>NULL if there were no caps on this buffer.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593316"></a><h3>
<a name="gst-buffer-set-caps"></a>gst_buffer_set_caps ()</h3>
<a class="indexterm" name="id2593327"></a><pre class="programlisting">void        gst_buffer_set_caps             (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buffer,
                                             <a href="gstreamer-GstCaps.html#GstCaps">GstCaps</a> *caps);</pre>
<p>
Sets the media type on the buffer. The refcount of the caps will
be increased and any previous caps on the buffer will be
unreffed.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>buffer</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>caps</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstCaps.html#GstCaps"><span class="type">GstCaps</span></a>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593414"></a><h3>
<a name="gst-buffer-create-sub"></a>gst_buffer_create_sub ()</h3>
<a class="indexterm" name="id2593426"></a><pre class="programlisting"><a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  gst_buffer_create_sub           (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *parent,
                                             <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a> offset,
                                             <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a> size);</pre>
<p>
Creates a sub-buffer from <em class="parameter"><code>parent</code></em> at <em class="parameter"><code>offset</code></em> and <em class="parameter"><code>size</code></em>.
This sub-buffer uses the actual memory space of the parent buffer.
This function will copy the offset and timestamp fields when the
offset is 0, else they are set to <a href="GstClock.html#GST-CLOCK-TIME-NONE:CAPS"><span class="type">GST_CLOCK_TIME_NONE</span></a>/<a href="gstreamer-GstBuffer.html#GST-BUFFER-OFFSET-NONE:CAPS"><span class="type">GST_BUFFER_OFFSET_NONE</span></a>.
The duration field of the new buffer is set to <a href="GstClock.html#GST-CLOCK-TIME-NONE:CAPS"><span class="type">GST_CLOCK_TIME_NONE</span></a>.
</p>
<p>
MT safe.
Returns: the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>parent</code></em>&#160;:</span></td>
<td> a <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>offset</code></em>&#160;:</span></td>
<td> the offset into parent <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> at which the new sub-buffer 
         begins.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>size</code></em>&#160;:</span></td>
<td> the size of the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> sub-buffer, in bytes (with size &gt; 0).
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td>NULL if the arguments were invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593614"></a><h3>
<a name="gst-buffer-is-span-fast"></a>gst_buffer_is_span_fast ()</h3>
<a class="indexterm" name="id2593624"></a><pre class="programlisting"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>    gst_buffer_is_span_fast         (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2);</pre>
<p>
Determines whether a <a href="gstreamer-GstBuffer.html#gst-buffer-span"><code class="function">gst_buffer_span()</code></a> can be done without copying
the contents, that is, whether the data areas are contiguous sub-buffers of 
the same buffer.
</p>
<p>
MT safe.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>buf1</code></em>&#160;:</span></td>
<td> the first <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>buf2</code></em>&#160;:</span></td>
<td> the second <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> TRUE if the buffers are contiguous,
FALSE if a copy would be required.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593739"></a><h3>
<a name="gst-buffer-span"></a>gst_buffer_span ()</h3>
<a class="indexterm" name="id2593749"></a><pre class="programlisting"><a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  gst_buffer_span                 (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint32"
>guint32</a> offset,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2,
                                             <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint32"
>guint32</a> len);</pre>
<p>
Creates a new buffer that consists of part of buf1 and buf2.
Logically, buf1 and buf2 are concatenated into a single larger
buffer, and a new buffer is created at the given offset inside
this space, with a given length.
</p>
<p>
If the two source buffers are children of the same larger buffer,
and are contiguous, the new buffer will be a child of the shared
parent, and thus no copying is necessary. you can use
<a href="gstreamer-GstBuffer.html#gst-buffer-is-span-fast"><code class="function">gst_buffer_is_span_fast()</code></a> to determine if a memcpy will be needed.
</p>
<p>
MT safe.
Returns: the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> that spans the two source buffers.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>buf1</code></em>&#160;:</span></td>
<td> the first source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to merge.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>offset</code></em>&#160;:</span></td>
<td> the offset in the first buffer from where the new
buffer should start.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>buf2</code></em>&#160;:</span></td>
<td> the second source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to merge.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>len</code></em>&#160;:</span></td>
<td> the total length of the new buffer.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td>NULL if the arguments are invalid.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2593925"></a><h3>
<a name="gst-buffer-stamp"></a>gst_buffer_stamp ()</h3>
<a class="indexterm" name="id2593935"></a><pre class="programlisting">void        gst_buffer_stamp                (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *dest,
                                             const <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *src);</pre>
<p>
Copies additional information (the timestamp, duration, and offset start 
and end) from one buffer to the other.
</p>
<p>
This function does not copy any buffer flags or caps.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>dest</code></em>&#160;:</span></td>
<td> buffer to stamp
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>src</code></em>&#160;:</span></td>
<td> buffer to stamp from
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2594013"></a><h3>
<a name="gst-buffer-join"></a>gst_buffer_join ()</h3>
<a class="indexterm" name="id2594023"></a><pre class="programlisting"><a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  gst_buffer_join                 (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2);</pre>
<p>
Create a new buffer that is the concatenation of the two source
buffers, and unrefs the original source buffers.
</p>
<p>
If the buffers point to contiguous areas of memory, the buffer
is created without copying the data.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>buf1</code></em>&#160;:</span></td>
<td> the first source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>buf2</code></em>&#160;:</span></td>
<td> the second source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a>.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> which is the concatenation of the source buffers.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2594136"></a><h3>
<a name="gst-buffer-merge"></a>gst_buffer_merge ()</h3>
<a class="indexterm" name="id2594146"></a><pre class="programlisting"><a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a>*  gst_buffer_merge                (<a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf1,
                                             <a href="gstreamer-GstBuffer.html#GstBuffer">GstBuffer</a> *buf2);</pre>
<p>
Create a new buffer that is the concatenation of the two source
buffers.  The original source buffers will not be modified or
unref'd.  Make sure you unref the source buffers if they are not used
anymore afterwards.
</p>
<p>
If the buffers point to contiguous areas of memory, the buffer
is created without copying the data.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>buf1</code></em>&#160;:</span></td>
<td> the first source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to merge.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>buf2</code></em>&#160;:</span></td>
<td> the second source <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to merge.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the new <a href="gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> which is the concatenation of the source buffers.
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2594262"></a><h2>See Also</h2>
<a href="GstPad.html" title="GstPad"><span class="type">GstPad</span></a>, <a href="gstreamer-GstMiniObject.html#GstMiniObject"><span class="type">GstMiniObject</span></a>
</div>
</div>
<table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle">
<td align="left"><a accesskey="p" href="GstBin.html"><b>&lt;&lt;&#160;GstBin</b></a></td>
<td align="right"><a accesskey="n" href="GstBus.html"><b>GstBus&#160;&gt;&gt;</b></a></td>
</tr></table>
</body>
</html>
